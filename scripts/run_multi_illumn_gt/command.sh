cd /ist/ist-share/vision/pakkapon/relight/DiffusionLight-SingleLoRA/scripts/ball2perspectiveenvmap
../../bin/v100shell

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 16 -i 0

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 16 -i 1

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 16 -i 2

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 16 -i 3

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 16 -i 4

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 16 -i 5

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 16 -i 6

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 16 -i 7

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 16 -i 8

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 16 -i 9

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 16 -i 10

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 16 -i 11

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 16 -i 12

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 16 -i 13

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 16 -i 14

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 16 -i 15


python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 32 -i 16

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 32 -i 17

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 32 -i 18

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 32 -i 19

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 32 -i 20

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 32 -i 21

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 32 -i 22

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 32 -i 23 

python run_reverse_general.py --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --thread 25 -t 32 -i 24


# 3. convert from envmap to SH
cd ../envmap2shcoeff
python envmap2sh_hdr_general.py --threads 24 --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --total 1 --idx 0

# 4. Rendering shading 
cd ../efficient_rendering
python efficient_sh_general.py --threads 32 --input_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train --output_dir /pure/t1/output/DiffusionLight-LoRASwapping/multi_illumination_gt/train  --total 2 --idx 0 

